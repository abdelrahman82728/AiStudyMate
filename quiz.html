<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>AI StudyMate — Quiz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f3f4f6;
            min-height: 100vh;
        }

        /* Navigation Bar */
        .navbar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 16px 24px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .navbar-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            backdrop-filter: blur(10px);
        }

        .brand-name {
            font-size: 22px;
            font-weight: 600;
            letter-spacing: -0.5px;
        }

        .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .nav-link {
            color: white;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 8px;
            transition: background 0.3s ease;
        }

            .nav-link:hover {
                background: rgba(255, 255, 255, 0.2);
            }

            .nav-link.active {
                background: rgba(255, 255, 255, 0.3);
            }

        /* Main Content */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 32px 24px;
        }

        .page-header {
            text-align: center;
            margin-bottom: 40px;
        }

            .page-header h1 {
                font-size: 32px;
                color: #1f2937;
                font-weight: 700;
                margin-bottom: 8px;
            }

            .page-header p {
                color: #6b7280;
                font-size: 16px;
            }

        /* Quiz Selection */
        .quiz-selection {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .quiz-card {
            background: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
            cursor: pointer;
        }

            .quiz-card:hover {
                transform: translateY(-4px);
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
                border-color: #667eea;
            }

        .quiz-icon {
            font-size: 40px;
            margin-bottom: 12px;
        }

        .quiz-title {
            font-size: 20px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 8px;
        }

        .quiz-info {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 4px;
        }

        /* Quiz Container */
        .quiz-container {
            display: none;
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

            .quiz-container.active {
                display: block;
            }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f3f4f6;
        }

        .quiz-progress {
            font-size: 16px;
            color: #6b7280;
            font-weight: 500;
        }

        .quiz-timer {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 18px;
            font-weight: 600;
            color: #667eea;
        }

        .question-card {
            margin-bottom: 32px;
        }

        .question-number {
            font-size: 14px;
            color: #667eea;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .question-text {
            font-size: 22px;
            color: #1f2937;
            font-weight: 600;
            margin-bottom: 24px;
            line-height: 1.5;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 16px 20px;
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

            .option:hover {
                background: #f3f4f6;
                border-color: #667eea;
            }

            .option.selected {
                background: #ede9fe;
                border-color: #667eea;
                color: #667eea;
            }

            .option.correct {
                background: #d1fae5;
                border-color: #10b981;
                color: #065f46;
            }

            .option.wrong {
                background: #fee2e2;
                border-color: #ef4444;
                color: #991b1b;
            }

        .option-letter {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            border: 2px solid #e5e7eb;
        }

        .option.selected .option-letter {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .quiz-actions {
            display: flex;
            gap: 12px;
            justify-content: center;
        }

        .quiz-btn {
            padding: 14px 32px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

            .btn-primary:hover:not(:disabled) {
                transform: translateY(-2px);
                box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
            }

            .btn-primary:disabled {
                opacity: 0.5;
                cursor: not-allowed;
            }

        .btn-secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }

            .btn-secondary:hover {
                background: #f3f4f6;
            }

        /* Results */
        .results-container {
            display: none;
            text-align: center;
        }

            .results-container.active {
                display: block;
            }

        .results-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .results-score {
            font-size: 48px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 12px;
        }

        .results-text {
            font-size: 20px;
            color: #6b7280;
            margin-bottom: 32px;
        }

        .results-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 32px;
            text-align: center;
        }

        .result-stat {
            background: #f9fafb;
            padding: 20px;
            border-radius: 12px;
        }

        .result-stat-value {
            font-size: 32px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 4px;
        }

        .result-stat-label {
            font-size: 14px;
            color: #6b7280;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .navbar-content {
                flex-direction: column;
                gap: 16px;
            }

            .container {
                padding: 20px 16px;
            }

            .page-header h1 {
                font-size: 24px;
            }

            .quiz-container {
                padding: 24px 20px;
            }

            .question-text {
                font-size: 18px;
            }

            .results-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-content">
            <div class="logo-section">
                <div class="logo-icon">📚</div>
                <span class="brand-name">AI StudyMate</span>
            </div>
            <div class="nav-links">
                <a href="dashboard.html" class="nav-link">Dashboard</a>
                <a href="notes.html" class="nav-link">Notes</a>
                <a href="assistant.html" class="nav-link">Assistant</a>
                <a href="flashcards.html" class="nav-link">Flashcards</a>
                <a href="quiz.html" class="nav-link active">Quiz</a>
                <a href="progress.html" class="nav-link">Progress</a>
                <a href="login.html" class="nav-link">Logout</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <div class="page-header">
            <h1>📝 Take a Quiz</h1>
            <p>Test your knowledge and track your progress</p>
        </div>

        <!-- Quiz Selection -->
        <div class="quiz-selection" id="quizSelection">
            <div class="quiz-card" onclick="startQuiz('math')">
                <div class="quiz-icon">📐</div>
                <div class="quiz-title">Mathematics</div>
                <div class="quiz-info">📊 5 questions</div>
                <div class="quiz-info">⏱️ 5 minutes</div>
            </div>
            <div class="quiz-card" onclick="startQuiz('physics')">
                <div class="quiz-icon">⚗️</div>
                <div class="quiz-title">Physics</div>
                <div class="quiz-info">📊 5 questions</div>
                <div class="quiz-info">⏱️ 5 minutes</div>
            </div>
            <div class="quiz-card" onclick="startQuiz('chemistry')">
                <div class="quiz-icon">🧪</div>
                <div class="quiz-title">Chemistry</div>
                <div class="quiz-info">📊 5 questions</div>
                <div class="quiz-info">⏱️ 5 minutes</div>
            </div>
        </div>

        <!-- Quiz Container -->
        <div class="quiz-container" id="quizContainer">
            <div class="quiz-header">
                <div class="quiz-progress">
                    Question <span id="currentQuestion">1</span> of <span id="totalQuestions">5</span>
                </div>
                <div class="quiz-timer">
                    ⏱️ <span id="timer">05:00</span>
                </div>
            </div>

            <div class="question-card">
                <div class="question-number">Question <span id="questionNum">1</span></div>
                <div class="question-text" id="questionText">Loading question...</div>
                <div class="options" id="optionsContainer">
                    <!-- Options will be inserted here -->
                </div>
            </div>

            <div class="quiz-actions">
                <button class="quiz-btn btn-secondary" onclick="quitQuiz()">Quit Quiz</button>
                <button class="quiz-btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>
                    Next Question
                </button>
            </div>
        </div>

        <!-- Results Container -->
        <div class="results-container" id="resultsContainer">
            <div class="results-icon" id="resultsIcon">🎉</div>
            <div class="results-score" id="resultsScore">80%</div>
            <div class="results-text" id="resultsText">Great job!</div>

            <div class="results-details">
                <div class="result-stat">
                    <div class="result-stat-value" id="correctAnswers">4</div>
                    <div class="result-stat-label">Correct</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-value" id="wrongAnswers">1</div>
                    <div class="result-stat-label">Wrong</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-value" id="timeTaken">04:23</div>
                    <div class="result-stat-label">Time</div>
                </div>
            </div>

            <div class="quiz-actions">
                <button class="quiz-btn btn-secondary" onclick="backToSelection()">Back to Quizzes</button>
                <button class="quiz-btn btn-primary" onclick="retakeQuiz()">Retake Quiz</button>
            </div>
        </div>
    </div>

    <script>
    // Quiz data
    const quizzes = {
      math: [
        {
          question: "What is 15 + 27?",
          options: ["40", "42", "45", "48"],
          correct: 1
        },
        {
          question: "What is the square root of 144?",
          options: ["10", "11", "12", "13"],
          correct: 2
        },
        {
          question: "What is 8 × 7?",
          options: ["54", "56", "58", "60"],
          correct: 1
        },
        {
          question: "What is 100 ÷ 4?",
          options: ["20", "25", "30", "35"],
          correct: 1
        },
        {
          question: "What is 3³ (3 cubed)?",
          options: ["6", "9", "27", "81"],
          correct: 2
        }
      ],
      physics: [
        {
          question: "What is the speed of light?",
          options: ["3 × 10⁸ m/s", "3 × 10⁶ m/s", "3 × 10⁷ m/s", "3 × 10⁹ m/s"],
          correct: 0
        },
        {
          question: "What is Newton's first law called?",
          options: ["Law of Motion", "Law of Inertia", "Law of Gravity", "Law of Energy"],
          correct: 1
        },
        {
          question: "What is the formula for kinetic energy?",
          options: ["mgh", "½mv²", "mv", "F = ma"],
          correct: 1
        },
        {
          question: "What is the unit of force?",
          options: ["Joule", "Watt", "Newton", "Pascal"],
          correct: 2
        },
        {
          question: "What is gravitational acceleration on Earth?",
          options: ["8.8 m/s²", "9.8 m/s²", "10.8 m/s²", "11.8 m/s²"],
          correct: 1
        }
      ],
      chemistry: [
        {
          question: "What is the chemical symbol for water?",
          options: ["H₂O", "CO₂", "O₂", "H₂"],
          correct: 0
        },
        {
          question: "What is the atomic number of Carbon?",
          options: ["4", "6", "8", "12"],
          correct: 1
        },
        {
          question: "What is NaCl commonly known as?",
          options: ["Sugar", "Salt", "Soda", "Soap"],
          correct: 1
        },
        {
          question: "What is the pH of pure water?",
          options: ["5", "7", "9", "11"],
          correct: 1
        },
        {
          question: "How many valence electrons does Oxygen have?",
          options: ["4", "6", "8", "10"],
          correct: 1
        }
      ]
    };

    let currentQuiz = [];
    let currentQuestionIndex = 0;
    let selectedAnswer = null;
    let score = 0;
    let timerInterval;
    let timeRemaining = 300; // 5 minutes
    let startTime;

    // Start quiz
    function startQuiz(subject) {
      currentQuiz = quizzes[subject];
      currentQuestionIndex = 0;
      score = 0;
      selectedAnswer = null;
      timeRemaining = 300;
      startTime = Date.now();

      document.getElementById('quizSelection').style.display = 'none';
      document.getElementById('quizContainer').classList.add('active');
      document.getElementById('resultsContainer').classList.remove('active');

      loadQuestion();
      startTimer();
    }

    // Load question
    function loadQuestion() {
      const question = currentQuiz[currentQuestionIndex];
      selectedAnswer = null;

      document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
      document.getElementById('totalQuestions').textContent = currentQuiz.length;
      document.getElementById('questionNum').textContent = currentQuestionIndex + 1;
      document.getElementById('questionText').textContent = question.question;
      document.getElementById('nextBtn').disabled = true;

      const optionsContainer = document.getElementById('optionsContainer');
      optionsContainer.innerHTML = '';

      question.options.forEach((option, index) => {
        const optionDiv = document.createElement('div');
        optionDiv.className = 'option';
        optionDiv.onclick = () => selectOption(index);
        optionDiv.innerHTML = `
          <div class="option-letter">${String.fromCharCode(65 + index)}</div>
          <div>${option}</div>
        `;
        optionsContainer.appendChild(optionDiv);
      });
    }

    // Select option
    function selectOption(index) {
      const options = document.querySelectorAll('.option');
      options.forEach(opt => opt.classList.remove('selected'));
      options[index].classList.add('selected');
      selectedAnswer = index;
      document.getElementById('nextBtn').disabled = false;
    }

    // Next question
    function nextQuestion() {
      if (selectedAnswer === null) return;

      const question = currentQuiz[currentQuestionIndex];
      if (selectedAnswer === question.correct) {
        score++;
      }

      currentQuestionIndex++;

      if (currentQuestionIndex < currentQuiz.length) {
        loadQuestion();
      } else {
        showResults();
      }
    }

    // Start timer
    function startTimer() {
      timerInterval = setInterval(() => {
        timeRemaining--;
        const minutes = Math.floor(timeRemaining / 60);
        const seconds = timeRemaining % 60;
        document.getElementById('timer').textContent =
          `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

        if (timeRemaining <= 0) {
          clearInterval(timerInterval);
          showResults();
        }
      }, 1000);
    }

    // Show results
    function showResults() {
      clearInterval(timerInterval);

      const timeTaken = Math.floor((Date.now() - startTime) / 1000);
      const minutes = Math.floor(timeTaken / 60);
      const seconds = timeTaken % 60;

      const percentage = Math.round((score / currentQuiz.length) * 100);
      const wrong = currentQuiz.length - score;

      document.getElementById('quizContainer').classList.remove('active');
      document.getElementById('resultsContainer').classList.add('active');

      document.getElementById('resultsScore').textContent = percentage + '%';
      document.getElementById('correctAnswers').textContent = score;
      document.getElementById('wrongAnswers').textContent = wrong;
      document.getElementById('timeTaken').textContent =
        `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

      if (percentage >= 80) {
        document.getElementById('resultsIcon').textContent = '🎉';
        document.getElementById('resultsText').textContent = 'Excellent work!';
      } else if (percentage >= 60) {
        document.getElementById('resultsIcon').textContent = '👍';
        document.getElementById('resultsText').textContent = 'Good job!';
      } else {
        document.getElementById('resultsIcon').textContent = '💪';
        document.getElementById('resultsText').textContent = 'Keep practicing!';
      }
    }

    // Quit quiz
    function quitQuiz() {
      if (confirm('Are you sure you want to quit? Your progress will be lost.')) {
        clearInterval(timerInterval);
        backToSelection();
      }
    }

    // Back to selection
    function backToSelection() {
      document.getElementById('quizSelection').style.display = 'grid';
      document.getElementById('quizContainer').classList.remove('active');
      document.getElementById('resultsContainer').classList.remove('active');
    }

    // Retake quiz
    function retakeQuiz() {
      currentQuestionIndex = 0;
      score = 0;
      selectedAnswer = null;
      timeRemaining = 300;
      startTime = Date.now();

      document.getElementById('resultsContainer').classList.remove('active');
      document.getElementById('quizContainer').classList.add('active');

      loadQuestion();
      startTimer();
    }
    </script>
</body>
</html>